var K=Object.create;var L=Object.defineProperty;var Z=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var q=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var G=(t,i,u,y)=>{if(i&&typeof i=="object"||typeof i=="function")for(let g of D(i))!M.call(t,g)&&g!==u&&L(t,g,{get:()=>i[g],enumerable:!(y=Z(i,g))||y.enumerable});return t};var H=(t,i,u)=>(u=t!=null?K(J(t)):{},G(i||!t||!t.__esModule?L(u,"default",{value:t,enumerable:!0}):u,t));var _=q((W,x)=>{(function(t,i){"use strict";typeof x=="object"&&typeof x.exports=="object"?x.exports=i():typeof define=="function"&&define.amd?define([],i):t.objectPath=i()})(W,function(){"use strict";var t=Object.prototype.toString;function i(o,s){return o==null?!1:Object.prototype.hasOwnProperty.call(o,s)}function u(o){if(!o||c(o)&&o.length===0)return!0;if(typeof o!="string"){for(var s in o)if(i(o,s))return!1;return!0}return!1}function y(o){return t.call(o)}function g(o){return typeof o=="object"&&y(o)==="[object Object]"}var c=Array.isArray||function(o){return t.call(o)==="[object Array]"};function d(o){return typeof o=="boolean"||y(o)==="[object Boolean]"}function m(o){var s=parseInt(o);return s.toString()===o?s:o}function a(o){o=o||{};var s=function(n){return Object.keys(s).reduce(function(e,r){return r==="create"||typeof s[r]=="function"&&(e[r]=s[r].bind(s,n)),e},{})},b;o.includeInheritedProps?b=function(){return!0}:b=function(n,e){return typeof e=="number"&&Array.isArray(n)||i(n,e)};function N(n,e){if(b(n,e))return n[e]}var w;o.includeInheritedProps?w=function(n,e){typeof e!="string"&&typeof e!="number"&&(e=String(e));var r=N(n,e);if(e==="__proto__"||e==="prototype"||e==="constructor"&&typeof r=="function")throw new Error("For security reasons, object's magic properties cannot be set");return r}:w=function(n,e){return N(n,e)};function S(n,e,r,f){if(typeof e=="number"&&(e=[e]),!e||e.length===0)return n;if(typeof e=="string")return S(n,e.split(".").map(m),r,f);var l=e[0],O=w(n,l);return e.length===1?((O===void 0||!f)&&(n[l]=r),O):(O===void 0&&(typeof e[1]=="number"?n[l]=[]:n[l]={}),S(n[l],e.slice(1),r,f))}return s.has=function(n,e){if(typeof e=="number"?e=[e]:typeof e=="string"&&(e=e.split(".")),!e||e.length===0)return!!n;for(var r=0;r<e.length;r++){var f=m(e[r]);if(typeof f=="number"&&c(n)&&f<n.length||(o.includeInheritedProps?f in Object(n):i(n,f)))n=n[f];else return!1}return!0},s.ensureExists=function(n,e,r){return S(n,e,r,!0)},s.set=function(n,e,r,f){return S(n,e,r,f)},s.insert=function(n,e,r,f){var l=s.get(n,e);f=~~f,c(l)||(l=[],s.set(n,e,l)),l.splice(f,0,r)},s.empty=function(n,e){if(!u(e)&&n!=null){var r,f;if(!!(r=s.get(n,e))){if(typeof r=="string")return s.set(n,e,"");if(d(r))return s.set(n,e,!1);if(typeof r=="number")return s.set(n,e,0);if(c(r))r.length=0;else if(g(r))for(f in r)b(r,f)&&delete r[f];else return s.set(n,e,null)}}},s.push=function(n,e){var r=s.get(n,e);c(r)||(r=[],s.set(n,e,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},s.coalesce=function(n,e,r){for(var f,l=0,O=e.length;l<O;l++)if((f=s.get(n,e[l]))!==void 0)return f;return r},s.get=function(n,e,r){if(typeof e=="number"&&(e=[e]),!e||e.length===0)return n;if(n==null)return r;if(typeof e=="string")return s.get(n,e.split("."),r);var f=m(e[0]),l=w(n,f);return l===void 0?r:e.length===1?l:s.get(n[f],e.slice(1),r)},s.del=function(e,r){if(typeof r=="number"&&(r=[r]),e==null||u(r))return e;if(typeof r=="string")return s.del(e,r.split("."));var f=m(r[0]);if(w(e,f),!b(e,f))return e;if(r.length===1)c(e)?e.splice(f,1):delete e[f];else return s.del(e[f],r.slice(1));return e},s}var p=a();return p.create=a,p.withInheritedProps=a({includeInheritedProps:!0}),p})});var v=H(_(),1),A={},E=new Map,I=t=>t.replace(/^\$/,""),P=(t,i)=>{t=I(t),E.has(t)?E.get(t)?.add(i):E.set(t,new Set([i]))},T=t=>(t=I(t),v.get(A,t)),Q=(t,i)=>{t=I(t),v.set(A,t,i),[...E.get(t)?.values()||[]].forEach(u=>u(i))},U=t=>{if(!!t)switch(typeof t){case"string":{A={...JSON.parse(t)};break}case"object":{A={...t};break}default:return}};var X=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(i,u)=>(u?"-":"")+i.toLowerCase()),$=t=>Object.entries(t).reduce((i,[u,y])=>i.concat(`${X(u)}:${y.toString()};`),"");var C=t=>typeof t=="string"&&t.startsWith("$"),z=t=>C(t)?T(t):t,B=(t,i)=>{Array.isArray(i)?i.forEach(u=>B(t,u)):t.appendChild(i.nodeType?i:F(i))},F=t=>{if(C(t)){let i=document.createTextNode(z(t));return P(t,()=>i.parentNode?.replaceChild(F(t),i)),i}return document.createTextNode(t.toString())},k=(t,i,...u)=>{if(typeof t=="function"){console.log("rerender");let c=Object.entries(i).reduce((a,[p,o])=>({...a,[p]:z(o)}),{}),d=t(c,u);return Object.values(i||{}).filter(C).forEach(a=>{P(a,()=>{d.replaceWith(k(t,i,u))})}),d}let y=document.createElement(t);return Object.entries(i||{}).forEach(([c,d])=>{c.startsWith("on")&&c.toLowerCase()in window?y.addEventListener(c.toLowerCase().slice(2),d):c==="style"?y.setAttribute(c,$(d)):y.setAttribute(c,d.toString())}),u.forEach(c=>{B(y,c)}),Object.values(i||{}).filter(C).forEach(c=>{P(c,()=>y.replaceWith(k(t,i,u)))}),y};export{k as createElement,T as get,U as init,Q as set};
